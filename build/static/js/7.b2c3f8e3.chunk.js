(this.webpackJsonptwitter=this.webpackJsonptwitter||[]).push([[7],{118:function(e,t,n){},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return r}));var s=new(n(24).a),a=function(e,t){return e.filter((function(e){return e._id===t&&!!e.imageURL})).map((function(e){return e.imageURL}))},c=function(e,t){return e.filter((function(e){return e._id===t&&!!e.username})).map((function(e){return e.username}))},r=function(e,t){var n=e.filter((function(e){return e._id===t})).map((function(e){return e._id}));return n.toString()===s.get("authedUser").trim()?"you":n}},137:function(e,t,n){"use strict";n.r(t);var s=n(117),a=n(36),c=n(1),r=n(25),i=n(6),u=n(24),o=n(119),l=n(121),d=n(2);var j=Object(r.b)((function(e){return{users:e.users.payload.data,authedUser:e.users.authedUser.name}}))((function(e){var t=e.question,n=t.author,s=t.timestamp,a=t.optionOne,c=parseInt(s),r=Object(o.a)(e.users,n);r=r[0]?r:"avatar.png";var i=Object(o.c)(e.users,n);return Object(d.jsxs)("div",{className:"poll",children:[Object(d.jsx)("div",{className:"avatar",children:Object(d.jsx)("img",{src:"/usersAvatar/".concat(r),alt:"profile"})}),Object(d.jsx)("div",{className:"poll-info",children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("span",{children:[" ",i," "]}),Object(d.jsxs)("div",{className:"date-time",children:[Object(d.jsx)("span",{children:new Date(c).toLocaleString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0})})," |",Object(d.jsxs)("span",{children:[" ",new Date(c).getDate()]}),"/",Object(d.jsx)("span",{children:new Date(c).getMonth()}),"/",Object(d.jsx)("span",{children:new Date(c).getFullYear()})]}),Object(d.jsx)("div",{className:"replying-to",children:Object(d.jsxs)("span",{children:[" asked by @",Object(o.b)(e.users,n)," "]})}),Object(d.jsx)("p",{children:" Would You Rather? "}),Object(d.jsxs)("p",{className:"option-one",children:[" ",Object(d.jsx)(l.a,{})," ",a.text," ... "]}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{className:"view btn btn-info",onClick:e.viewClicked.bind(this,e.question),children:"View"})]})})]})}));var b,h=Object(r.b)((function(e){return{polls:e.polls.payload.data,users:e.users.payload.data,authedUser:e.users.authedUser.name}}))(Object(i.g)((function(e){var t=e.requiredPolls.length?e.requiredPolls:e.polls,n=function(t){e.history.push("/questions/".concat(t._id,"/").concat(e.status),{question:t,users:e.users})};return Object(d.jsxs)(d.Fragment,{children:["recommended"!==e.status&&Object(d.jsx)("ul",{children:t.map((function(e){return Object(d.jsx)("li",{children:Object(d.jsx)(j,{question:e,viewClicked:n})},e._id)}))}),"recommended"===e.status&&function(){var s,a=(s=e.requiredPolls.length?t:e.polls.filter((function(t){return!t.optionOne.votes.includes(e.authedUser)&&!t.optionTwo.votes.includes(e.authedUser)})))[Math.floor(Math.random()*s.length)];return Object(d.jsx)("li",{children:Object(d.jsx)(j,{question:a,viewClicked:n})})}()]})}))),O=(n(118),n(38)),p=n(37),m=n(39),f=new u.a;t.default=Object(r.b)((function(e){return{users:e.users.payload.data,userStatus:e.users.payload.status,authedUser:e.users.authedUser.name,authUserStatus:e.users.authedUser.status,polls:e.polls.payload.data,pollStatus:e.polls.payload.status,btnStatus:e.polls.btnStatus}}),(function(e,t){return{dispatch_getBtnStatus:function(t){return e(Object(m.c)(t))},dispatch_fetchPoll:function(){return e(Object(m.b)())}}}))(Object(i.g)((function(e){Object(c.useEffect)((function(){e.dispatch_fetchPoll(),e.dispatch_getBtnStatus("recommended"),F()}),[]),Object(c.useEffect)((function(){"answered"===e.btnStatus?N():"unanswered"===e.btnStatus?_():"recommended"===e.btnStatus&&F()}),[e.btnStatus]);var t=Object(O.a)(b||(b=Object(a.a)(["\n      display: block;\n      margin: 20% auto;\n      border-color: tomato;\n      "]))),n=Object(c.useState)(e.polls),r=Object(s.a)(n,2),u=r[0],o=r[1],l=Object(c.useState)("inactive"),j=Object(s.a)(l,2),m=j[0],v=j[1],x=Object(c.useState)("inactive"),g=Object(s.a)(x,2),S=g[0],w=g[1],U=Object(c.useState)("inactive"),y=Object(s.a)(U,2),q=y[0],k=y[1],N=function(){var t=e.polls.filter((function(t){return t.optionOne.votes.includes(e.authedUser)||t.optionTwo.votes.includes(e.authedUser)}));w("active"===S?"inactive":"active"),v("inactive"),k("inactive"),o(t)},_=function(){var t=e.polls.filter((function(t){return!t.optionOne.votes.includes(e.authedUser)&&!t.optionTwo.votes.includes(e.authedUser)}));k("active"===q?"inactive":"active"),v("inactive"),w("inactive"),o(t)},F=function(){var t=e.polls.filter((function(t){return!t.optionOne.votes.includes(e.authedUser)&&!t.optionTwo.votes.includes(e.authedUser)}));v("active"===m?"inactive":"active"),w("inactive"),k("inactive"),o(t)};return Object(d.jsxs)(d.Fragment,{children:[f.get("authedUser")&&Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsxs)("div",{className:"top-panel",children:[Object(d.jsx)("button",{onClick:function(){e.dispatch_getBtnStatus("recommended")}.bind(this),className:"btn btn-success all ".concat(m),children:"Recommended"}),Object(d.jsx)("button",{onClick:function(){e.dispatch_getBtnStatus("unanswered")}.bind(this),className:"btn btn-danger unanswered ".concat(q),children:"Unanswered"}),Object(d.jsx)("button",{className:"btn btn-primary answered ".concat(S),onClick:function(){e.dispatch_getBtnStatus("answered")}.bind(this),children:"Answered"})]}),"done"===e.pollStatus&&"done"===e.userStatus&&"done"===e.authUserStatus&&function(){var t=e.polls.filter((function(e){return!e.optionOne.votes.includes(f.get("authedUser"))&&!e.optionTwo.votes.includes(f.get("authedUser"))}));return t.length||u.length?"answered"===e.btnStatus?u.length?Object(d.jsx)(h,{requiredPolls:u,status:e.btnStatus}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("p",{children:" You have not answered any question yet. Thank you! "})]}):"unanswered"===e.btnStatus&&u.length?Object(d.jsx)(h,{requiredPolls:u,status:e.btnStatus}):"recommended"===e.btnStatus?t.length?Object(d.jsx)(h,{requiredPolls:u,status:e.btnStatus}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("p",{children:" No Recommendation. Thank you! "})]}):void 0:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("p",{children:" You have no unanswered questions. Thank you! "})]})}(),"loading"===e.pollStatus&&"loading"===e.userStatus&&"done"!==e.authUserStatus&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(p.DotLoader,{color:"tomato",loading:!0,css:t,size:60})]}),"failed"===e.pollStatus&&"failed"===e.authUserStatus&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("p",{children:" No Internet Connection "})]})]})}),!f.get("authedUser")&&Object(d.jsx)(i.a,{to:{pathname:"/users/login",state:{desc:"sign in required",redirected:!0}}})]})})))}}]);
//# sourceMappingURL=7.b2c3f8e3.chunk.js.map