(this.webpackJsonptwitter=this.webpackJsonptwitter||[]).push([[10],{118:function(t,e,n){},119:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return a}));var s=new(n(24).a),c=function(t,e){return t.filter((function(t){return t._id===e&&!!t.imageURL})).map((function(t){return t.imageURL}))},r=function(t,e){return t.filter((function(t){return t._id===e&&!!t.username})).map((function(t){return t.username}))},a=function(t,e){var n=t.filter((function(t){return t._id===e})).map((function(t){return t._id}));return n.toString()===s.get("authedUser").trim()?"you":n}},134:function(t,e,n){"use strict";n.r(e);var s=n(23),c=n.n(s),r=n(31),a=n(117),i=n(1),o=n(25),u=n(6),d=n(119),l=n(39),j=n(24),b=(n(118),n(124)),h=n(2),p=void 0,O=new j.a;e.default=Object(o.b)((function(t){return{users:t.users.payload.data,authedUser:t.users.authedUser.name,polls:t.polls.payload.data,voteStatus:t.polls.vote.status,votedQuestion:t.polls.vote.data}}),(function(t){return{dispatch_fetchPoll:function(){return t(Object(l.b)())},dispatch_vote:function(e,n,s){return t(Object(l.d)(e,n,s))}}}))(Object(u.g)((function(t){Object(i.useEffect)((function(){t.dispatch_fetchPoll()}),[t.voteStatus]);var e=Object(i.useState)(""),n=Object(a.a)(e,2),s=n[0],o=n[1],l=Object(i.useState)(""),j=Object(a.a)(l,2),f=j[0],v=j[1],x=Object(i.useState)(!1),m=Object(a.a)(x,2),g=m[0],y=m[1],_=Object(i.useState)("A"),w=Object(a.a)(_,2),N=w[0],U=w[1],k=Object(i.useState)("B"),S=Object(a.a)(k,2),q=S[0],P=S[1];try{var R=t.history.location.state.question,A=t.users.length?t.users:t.history.location.state.users,C=R.author,F=R.optionOne,J=R.optionTwo,L=Object(d.a)(A,C);L=L[0]?L:"avatar.png";var T=function(e){t.dispatch_vote(R._id,t.authedUser,e),o("selected"),y(!0),U(Object(h.jsx)(b.a,{})),t.history.push("/questions/".concat(R._id,"/answered"),{question:R,users:A})};t.history.listen((function(e,n){"POP"===n&&t.history.push("/")}));var B=function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.dispatch_vote(R._id,t.authedUser,n);case 3:v("selected"),y(!0),P(Object(h.jsx)(b.a,{})),t.history.push("/questions/".concat(R._id,"/answered"),{question:R,users:A}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[O.get("authedUser")&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"poll",children:[Object(h.jsx)("div",{className:"avatar",children:Object(h.jsx)("img",{src:"/usersAvatar/".concat(L),alt:"profile"})}),Object(h.jsxs)("div",{className:"poll-info",children:[Object(h.jsx)("div",{className:"asked-by",children:Object(h.jsxs)("span",{children:[" asked by @",Object(d.b)(t.users,C)," "]})}),Object(h.jsxs)("div",{className:"question",children:[Object(h.jsx)("h2",{children:" Would You Rather? "}),Object(h.jsxs)("div",{className:"option-btn",children:[Object(h.jsxs)("div",{children:[" ",Object(h.jsxs)("p",{children:[" ",N," "]})," "]}),Object(h.jsx)("button",{className:"btn btn-primary active ".concat(s),disabled:g,onClick:T.bind(p,"optionOne"),children:F.text})]}),Object(h.jsxs)("div",{className:"option-btn",children:[Object(h.jsxs)("div",{children:[" ",Object(h.jsxs)("p",{children:[" ",q," "]})," "]}),Object(h.jsx)("button",{className:"btn btn-primary active ".concat(f),disabled:g,onClick:B.bind(p,"optionTwo"),children:J.text})]})]})]})]})}),!O.get("authedUser")&&Object(h.jsx)(u.a,{to:{pathname:"/users/login",state:{desc:"sign in required",redirected:!0}}})]})}catch(E){return console.log(E),Object(h.jsx)(u.a,{to:"/page-not-found-return-home"})}})))}}]);
//# sourceMappingURL=10.9aa53ddf.chunk.js.map