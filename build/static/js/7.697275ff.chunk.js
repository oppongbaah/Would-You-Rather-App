(this.webpackJsonptwitter=this.webpackJsonptwitter||[]).push([[7],{44:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return g}));var a=n(46),r=n.n(a),s=n(47),c=n(13);var i=n(42),o=n(48),u=n.n(o),l=new i.a,d="http://localhost:4000";function h(){return function(e){u.a.get("".concat(d,"/users/fetch-all")).then((function(t){e(function(e){return{type:c.a,users:e}}(t.data))})).catch((function(e){console.log(e)}))}}function p(e){return function(t){t(function(e){return{type:c.b,authedUser:e}}(e))}}function b(e){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(d,"/users/login/"),{method:"POST",headers:{"Access-Control-Allow-Origin":d,"Content-Type":"application/json",Authorization:"Basic ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function g(e,t){return f.apply(this,arguments)}function f(){return(f=Object(s.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(d,"/users/signup"),{method:"POST",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.text().then((function(e){alert(e),l.set("authedUser",t._id),n.push("/")}))})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},45:function(e,t,n){"use strict";n(0);var a=n(2),r=n(19),s=n(20),c=(n(29),n(42)),i=n(50),o=n(3),u=new c.a;t.a=Object(s.b)((function(e){return{authedUser:e.authedUser,users:e.users}}))((function(e){var t,n=(t=e.authedUser,e.users.filter((function(e){return e._id===t&&e.imageURL})).map((function(e){return e.imageURL}))),s=n.length?"usersAvatar/".concat(n):"usersAvatar/avatar.png";return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"container-nav",children:[Object(o.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(o.jsx)("span",{className:"navbar-toggler-icon"})}),Object(o.jsx)("nav",{id:"navbarSupportedContent",className:"navbar navbar-expand-lg navbar-light bg-warning",children:Object(o.jsxs)("div",{className:"collapse navbar-collapse",children:[Object(o.jsxs)("ul",{className:"navbar-nav ml-auto topnav",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(r.c,{className:"nav-link",activeClassName:"active",exact:!0,to:"/",children:"Dashboard"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(r.c,{className:"nav-link",activeClassName:"active",to:"/new-poll",children:"New Poll"})}),Object(o.jsx)("li",{className:"dropd",children:Object(o.jsxs)("div",{className:"nav-item dropdown",children:[Object(o.jsxs)("p",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[e.authedUser,Object(o.jsx)(i.a,{})]}),Object(o.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(o.jsx)("div",{className:"dropdown-divider"}),Object(o.jsx)(r.b,{className:"dropdown-item",to:{pathname:"/users/signup",state:{desc:"sign up"}},children:"Sign Up"})]})]})}),u.get("authedUser")&&Object(o.jsx)("li",{className:"image",children:Object(o.jsx)("img",{src:s,alt:"avatar"})}),Object(o.jsx)("li",{className:"nav-item signin",children:Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(r.c,{className:"nav-link btn btn-primary text-white",activeClassName:"active",to:{pathname:"/users/login",state:{desc:"sign in"}},children:"Login"})})}),Object(o.jsx)("li",{className:"nav-item signout",children:Object(o.jsx)(r.c,{className:"nav-link btn btn-danger text-white",to:{pathname:"/users/logout",state:{desc:"sign out",message:"Thank you for your time. Bye!"}},onClick:function(e){if(!u.get("authedUser"))return Object(o.jsx)(a.a,{to:"/users/login"});u.remove("authedUser",{path:"/"})}.bind(this),children:"Logout"})})]}),Object(o.jsx)("div",{})]})})]})})}))},82:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(20),s=n(45),c=n(2),i=n(42),o=n(44),u=n(3),l=new i.a;t.default=Object(r.b)((function(e){return{users:e.users,authedUser:e.autherUser}}),(function(e){return{dispatch_fetchUsers:function(){return e(Object(o.b)())},dispatch_authedUser:function(t){return e(Object(o.a)(t))}}}))((function(e){Object(a.useEffect)((function(){e.dispatch_fetchUsers(),l.get("authedUser")?e.dispatch_authedUser(l.get("authedUser")):e.dispatch_authedUser("guest")}),[]);var t=function(){return l.get("authedUser")};return Object(u.jsxs)(u.Fragment,{children:[t()&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(s.a,{}),Object(u.jsx)("h2",{className:"center",children:" Dashboard "})]}),!t()&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(c.a,{to:{pathname:"users/login",state:{desc:"sign in required",redirected:!0}}})})]})}))}}]);
//# sourceMappingURL=7.697275ff.chunk.js.map