{"version":3,"sources":["redux/middlewares/mwUsers.js","redux/actionCreators/acUsers.js","Components/NavBar.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/base-64/base64.js","../node_modules/webpack/buildin/module.js","Components/Login.js"],"names":["cookies","Cookies","api","fetchUsers","dispatch","axios","get","then","users","type","actions","actionCreators","data","catch","err","console","log","authedUser","user","login","credentials","a","fetch","method","headers","json","error","signup","history","body","JSON","stringify","text","alert","set","_id","push","connect","state","props","userId","image","filter","imageURL","map","length","className","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","activeClassName","exact","to","role","aria-haspopup","aria-labelledby","pathname","desc","src","alt","message","onClick","e","remove","path","bind","this","_arrayLikeToArray","arr","len","i","arr2","Array","_slicedToArray","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","value","o","minLen","n","prototype","toString","call","slice","constructor","name","from","test","TypeError","root","freeExports","exports","freeGlobal","module","global","window","InvalidCharacterError","Error","TABLE","REGEX_SPACE_CHARACTERS","base64","input","String","b","c","buffer","padding","output","position","charCodeAt","charAt","replace","bitStorage","bitCounter","indexOf","fromCharCode","define","webpackPolyfill","deprecate","paths","children","defineProperty","enumerable","l","dispatch_fetchUsers","dispatch_authedUser","withRouter","useState","username","setUsername","password","setPassword","remembered","setLoginCache","useEffect","location","onSubmit","preventDefault","cred","encode","res","parseInt","status","time","Date","setTime","getTime","expires","onChange","target","placeholder","checked"],"mappings":"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","file":"static/js/4.47fe37af.chunk.js","sourcesContent":["import * as actionCreators from '../actionCreators/acUsers';\r\nimport Cookies from 'universal-cookie';\r\nimport axios from 'axios';\r\n\r\nconst cookies = new Cookies();\r\n\r\n// const api = 'https://wouldyouratherapplication.herokuapp.com';\r\nconst api = 'http://localhost:4000';\r\n\r\nexport function fetchUsers() {\r\n    return (dispatch => {\r\n        axios.get(`${api}/users/fetch-all`)\r\n        .then(users => {\r\n            dispatch(actionCreators.loadUser(users.data))\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    })\r\n}\r\n\r\nexport function authedUser(user) {\r\n    return (dispatch => {\r\n        dispatch(actionCreators.getAuthedUser(user))\r\n    })\r\n}\r\n\r\nexport async function login(credentials) {\r\n    try {\r\n        return await fetch(`${api}/users/login/`, {\r\n          method: 'POST',\r\n          headers: {\r\n            \"Access-Control-Allow-Origin\": api,\r\n            \"Content-Type\": \"application/json\",\r\n            'Authorization': `Basic ${credentials}`\r\n          }\r\n        })\r\n        .then(data => data.json())\r\n        .catch(err => console.log(err))\r\n    }\r\n    catch (e) {console.error(e)}\r\n}\r\n\r\nexport async function signup(credentials, history) {\r\n    return fetch(`${api}/users/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(credentials)\r\n      })\r\n      .then(data => {\r\n        data.text().then(text => {\r\n            alert(text);\r\n            cookies.set(\"authedUser\", credentials._id);\r\n            history.push(\"/\");\r\n        })\r\n      })\r\n      .catch(err => console.log(err))\r\n}","import * as actions from '../actions';\r\n\r\nexport function loadUser(users) {\r\n    return {\r\n        type: actions.ADD_USER,\r\n        users\r\n    }\r\n}\r\n\r\nexport function getAuthedUser(user) {\r\n    return {\r\n        type: actions.AUTHED_USER,\r\n        authedUser: user\r\n    }\r\n}","import React from 'react';\nimport {NavLink, Link, Redirect} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport '../styles/App.css';\nimport Cookies from 'universal-cookie';\nimport {IoMdArrowDropdown} from 'react-icons/io';\n\nconst cookies = new Cookies();\n\nfunction Navigation(props){\n\n  const logout = (e) => {\n    if (cookies.get(\"authedUser\")) {\n      cookies.remove(\"authedUser\", {path: \"/\"})\n    }\n    else {\n      return <Redirect to='/users/login' />\n    }\n    \n  }\n\n  const getImageURL = (userId) => {\n    return props.users\n    .filter(user => user._id === userId && user.imageURL)\n    .map(user => user.imageURL)\n  }\n\n  const image = getImageURL(props.authedUser);\n\n  const imageURL = image.length ? `usersAvatar/${image}` \n  : 'usersAvatar/avatar.png';\n \n  return (\n    <>\n      <div className=\"container-nav\">\n        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n            <span className=\"navbar-toggler-icon\"></span>\n        </button>\n    \n        <nav id=\"navbarSupportedContent\" className=\"navbar navbar-expand-lg navbar-light bg-warning\">\n\n          <div className=\"collapse navbar-collapse\">\n              <ul className=\"navbar-nav ml-auto topnav\">\n                <li className=\"nav-item\">\n                  <NavLink\n                    className=\"nav-link\"\n                    activeClassName=\"active\"\n                    exact to=\"/\">\n                    Dashboard\n                  </NavLink>\n                </li>\n                <li className=\"nav-item\">\n                  <NavLink\n                    className=\"nav-link\"\n                    activeClassName=\"active\"\n                    to=\"/new-poll\">\n                    New Poll\n                  </NavLink>\n                </li>\n\n                <li className=\"dropd\">\n                  <div className=\"nav-item dropdown\">  \n                    <p className=\"nav-link dropdown-toggle\" \n                      id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" \n                      aria-haspopup=\"true\" aria-expanded=\"false\">\n                        {props.authedUser}<IoMdArrowDropdown />   \n                    </p>\n                    <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n                        <div className=\"dropdown-divider\"></div>\n                        <Link className=\"dropdown-item\"\n                          to={{\n                            pathname:'/users/signup',\n                            state: {desc:'sign up'}  \n                            }}>\n                          Sign Up\n                        </Link>\n                    </div>\n                  </div>\n                </li>\n                {\n                  cookies.get(\"authedUser\") &&\n                    <li className=\"image\" >\n                      <img src={imageURL} alt=\"avatar\" />\n                    </li>\n                }\n                <li className=\"nav-item signin\">\n                  <>\n                    <NavLink className=\"nav-link btn btn-primary text-white\" activeClassName=\"active\"\n                     to={{\n                      pathname:'/users/login',\n                      state: {desc:'sign in'}\n                    }}>\n                       Login</NavLink>\n                  </>       \n                </li>\n                <li className=\"nav-item signout\">\n                    <NavLink className=\"nav-link btn btn-danger text-white\" \n                      to={{\n                      pathname:'/users/logout',\n                      state: {desc:'sign out', message: \"Thank you for your time. Bye!\"}  \n                      }} onClick={logout.bind(this)}>\n                        Logout\n                    </NavLink>\n                </li>\n              </ul>\n              <div>\n              </div>\n          </div>\n        </nav>\n      </div>\n    </>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n    authedUser: state.authedUser,\n    users: state.users\n  }\n}\n\nexport default connect(mapStateToProps)(Navigation);\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */\n;(function(root) {\n\n\t// Detect free variables `exports`.\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`.\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code, and use\n\t// it as `root`.\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar InvalidCharacterError = function(message) {\n\t\tthis.message = message;\n\t};\n\tInvalidCharacterError.prototype = new Error;\n\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n\tvar error = function(message) {\n\t\t// Note: the error messages used throughout this file match those used by\n\t\t// the native `atob`/`btoa` implementation in Chromium.\n\t\tthrow new InvalidCharacterError(message);\n\t};\n\n\tvar TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t// http://whatwg.org/html/common-microsyntaxes.html#space-character\n\tvar REGEX_SPACE_CHARACTERS = /[\\t\\n\\f\\r ]/g;\n\n\t// `decode` is designed to be fully compatible with `atob` as described in the\n\t// HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob\n\t// The optimized base64-decoding algorithm used is based on @atk’s excellent\n\t// implementation. https://gist.github.com/atk/1020396\n\tvar decode = function(input) {\n\t\tinput = String(input)\n\t\t\t.replace(REGEX_SPACE_CHARACTERS, '');\n\t\tvar length = input.length;\n\t\tif (length % 4 == 0) {\n\t\t\tinput = input.replace(/==?$/, '');\n\t\t\tlength = input.length;\n\t\t}\n\t\tif (\n\t\t\tlength % 4 == 1 ||\n\t\t\t// http://whatwg.org/C#alphanumeric-ascii-characters\n\t\t\t/[^+a-zA-Z0-9/]/.test(input)\n\t\t) {\n\t\t\terror(\n\t\t\t\t'Invalid character: the string to be decoded is not correctly encoded.'\n\t\t\t);\n\t\t}\n\t\tvar bitCounter = 0;\n\t\tvar bitStorage;\n\t\tvar buffer;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\twhile (++position < length) {\n\t\t\tbuffer = TABLE.indexOf(input.charAt(position));\n\t\t\tbitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;\n\t\t\t// Unless this is the first of a group of 4 characters…\n\t\t\tif (bitCounter++ % 4) {\n\t\t\t\t// …convert the first 8 bits to a single ASCII character.\n\t\t\t\toutput += String.fromCharCode(\n\t\t\t\t\t0xFF & bitStorage >> (-2 * bitCounter & 6)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t};\n\n\t// `encode` is designed to be fully compatible with `btoa` as described in the\n\t// HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa\n\tvar encode = function(input) {\n\t\tinput = String(input);\n\t\tif (/[^\\0-\\xFF]/.test(input)) {\n\t\t\t// Note: no need to special-case astral symbols here, as surrogates are\n\t\t\t// matched, and the input is supposed to only contain ASCII anyway.\n\t\t\terror(\n\t\t\t\t'The string to be encoded contains characters outside of the ' +\n\t\t\t\t'Latin1 range.'\n\t\t\t);\n\t\t}\n\t\tvar padding = input.length % 3;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\tvar a;\n\t\tvar b;\n\t\tvar c;\n\t\tvar buffer;\n\t\t// Make sure any padding is handled outside of the loop.\n\t\tvar length = input.length - padding;\n\n\t\twhile (++position < length) {\n\t\t\t// Read three bytes, i.e. 24 bits.\n\t\t\ta = input.charCodeAt(position) << 16;\n\t\t\tb = input.charCodeAt(++position) << 8;\n\t\t\tc = input.charCodeAt(++position);\n\t\t\tbuffer = a + b + c;\n\t\t\t// Turn the 24 bits into four chunks of 6 bits each, and append the\n\t\t\t// matching character for each of them to the output.\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 18 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 12 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 6 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer & 0x3F)\n\t\t\t);\n\t\t}\n\n\t\tif (padding == 2) {\n\t\t\ta = input.charCodeAt(position) << 8;\n\t\t\tb = input.charCodeAt(++position);\n\t\t\tbuffer = a + b;\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 10) +\n\t\t\t\tTABLE.charAt((buffer >> 4) & 0x3F) +\n\t\t\t\tTABLE.charAt((buffer << 2) & 0x3F) +\n\t\t\t\t'='\n\t\t\t);\n\t\t} else if (padding == 1) {\n\t\t\tbuffer = input.charCodeAt(position);\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 2) +\n\t\t\t\tTABLE.charAt((buffer << 4) & 0x3F) +\n\t\t\t\t'=='\n\t\t\t);\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tvar base64 = {\n\t\t'encode': encode,\n\t\t'decode': decode,\n\t\t'version': '1.0.0'\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn base64;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = base64;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (var key in base64) {\n\t\t\t\tbase64.hasOwnProperty(key) && (freeExports[key] = base64[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.base64 = base64;\n\t}\n\n}(this));\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import React, {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport { withRouter } from \"react-router-dom\";\nimport '../styles/login.css';\nimport {encode} from 'base-64';\nimport Cookies from 'universal-cookie';\nimport {connect} from 'react-redux';\nimport {fetchUsers, authedUser} from '../redux/middlewares/mwUsers';\nimport Navigation from './NavBar';\nimport {login} from '../redux/middlewares/mwUsers';\n\n// instantiate cookie\nconst cookies = new Cookies();\n\nconst Login = (props) => {\n    const [username, setUsername] = useState(\"Guest\");\n    const [password, setPassword] = useState(\"\");\n    const [remembered, setLoginCache] = useState(false);\n\n    /* eslint-disable */\n    useEffect(() => {\n        props.dispatch_fetchUsers();\n    }, [])\n\n    useEffect(() => {\n        if(!cookies.get(\"authedUser\")){\n            props.dispatch_authedUser(username);\n        }\n        else {\n            props.dispatch_authedUser(cookies.get(\"authedUser\"));\n        }\n    }, [])\n    /* eslint-enable */\n\n    // an event to handle username textbox changes\n    const handleUsername = (e) => {\n        setUsername(e.target.value);\n    }\n\n    // an event to handle password textbox changes\n    const handlePassword = (e) => {\n        setPassword(e.target.value);\n    }\n\n    // an event to handle whether the username and password should be cached or not\n    const handleLoginCache = (e) => {\n        setLoginCache(e.target.checked);\n\n        if(remembered) {\n            console.log(\"remember\")\n        }\n    }\n\n    // this finally handles the event that submits data to the server for approval\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        // authorisation\n        const cred = encode(username + \":\" + password);\n        const loginInfo = login(cred);\n        // set cookies\n        loginInfo\n        .then(res => {\n            if (parseInt(res.status) === 200) {\n                if(!cookies.get(\"authedUser\")) {\n                    let time = new Date();\n                    // cookies expires in hour time\n                    time.setTime(time.getTime() + (60*60*1000));\n                    cookies.set('authedUser', res.name, { path: '/', expires: time});\n                }\n                // add the authed user to the store state\n                props.dispatch_authedUser(res.name);\n                // Tell the user that login is successful\n                alert(res.message);\n                // push the route to the location hook to redirect\n                props.history.push('/');\n            }\n            else if (parseInt(res.status) === 401) {\n                alert(res.message);\n            }\n        })\n        .catch(err => {\n            console.log(err)\n        })\n    }\n\n    // return a decription and a login form\n    return (\n        <>\n        <Navigation />\n        <div className=\"container\">\n        <div className=\"d-flex justify-content-center h-100\">\n            <div className=\"card\">\n                <div className=\"card-header\">\n                    <h3>{props.location.state.desc}</h3>\n                </div>\n                <div className=\"card-body\">\n                    <form onSubmit={handleSubmit.bind(this)} >\n                        <div className=\"input-group form-group\">\n                            <input onChange={handleUsername.bind(this)} type=\"text\" \n                            className=\"form-control\" placeholder=\"username\" />\n                        </div>\n                        <div className=\"input-group form-group\">\n                            <input onChange={handlePassword.bind(this)} type=\"password\" className=\"form-control\" \n                            placeholder=\"password\" />\n                        </div>\n                        <div className=\"row align-items-center remember\">\n                            <input onChange={handleLoginCache} type=\"checkbox\" />Remember Me\n                        </div>\n                        <div className=\"form-group\">\n                            <input type=\"submit\" value=\"Login\" className=\"btn float-right login_btn\" />\n                        </div>\n                    </form>\n                </div>\n                <div className=\"card-footer\">\n                    <div className=\"d-flex justify-content-center links\">\n                        Don't have an account?\n                        <Link \n                        to={{\n                            pathname:'/users/signup',\n                            state: {desc:'sign up'}\n                        }}>\n                        Sign Up</Link>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n        </>\n    )\n}\n\n\nconst mapStateToProps = state => {\n    return {\n        users: state.users,\n        authedUser: state.authedUser\n    }\n}\n  \nconst mapDispatchToProps = dispatch => {\nreturn {\n    dispatch_fetchUsers: () => dispatch(fetchUsers()), \n    dispatch_authedUser: (user) => dispatch(authedUser(user))\n}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Login));"],"sourceRoot":""}