/*! For license information please see 4.47fe37af.chunk.js.LICENSE.txt */
(this.webpackJsonptwitter=this.webpackJsonptwitter||[]).push([[4],{44:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return j}));var r=n(46),a=n.n(r),c=n(47),s=n(13);var i=n(42),o=n(48),u=n.n(o),l=new i.a,d="http://localhost:4000";function h(){return function(e){u.a.get("".concat(d,"/users/fetch-all")).then((function(t){e(function(e){return{type:s.a,users:e}}(t.data))})).catch((function(e){console.log(e)}))}}function b(e){return function(t){t(function(e){return{type:s.b,authedUser:e}}(e))}}function p(e){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(d,"/users/login/"),{method:"POST",headers:{"Access-Control-Allow-Origin":d,"Content-Type":"application/json",Authorization:"Basic ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function j(e,t){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(d,"/users/signup"),{method:"POST",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.text().then((function(e){alert(e),l.set("authedUser",t._id),n.push("/")}))})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},45:function(e,t,n){"use strict";n(0);var r=n(2),a=n(19),c=n(20),s=(n(29),n(42)),i=n(50),o=n(3),u=new s.a;t.a=Object(c.b)((function(e){return{authedUser:e.authedUser,users:e.users}}))((function(e){var t,n=(t=e.authedUser,e.users.filter((function(e){return e._id===t&&e.imageURL})).map((function(e){return e.imageURL}))),c=n.length?"usersAvatar/".concat(n):"usersAvatar/avatar.png";return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"container-nav",children:[Object(o.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(o.jsx)("span",{className:"navbar-toggler-icon"})}),Object(o.jsx)("nav",{id:"navbarSupportedContent",className:"navbar navbar-expand-lg navbar-light bg-warning",children:Object(o.jsxs)("div",{className:"collapse navbar-collapse",children:[Object(o.jsxs)("ul",{className:"navbar-nav ml-auto topnav",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(a.c,{className:"nav-link",activeClassName:"active",exact:!0,to:"/",children:"Dashboard"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(a.c,{className:"nav-link",activeClassName:"active",to:"/new-poll",children:"New Poll"})}),Object(o.jsx)("li",{className:"dropd",children:Object(o.jsxs)("div",{className:"nav-item dropdown",children:[Object(o.jsxs)("p",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[e.authedUser,Object(o.jsx)(i.a,{})]}),Object(o.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(o.jsx)("div",{className:"dropdown-divider"}),Object(o.jsx)(a.b,{className:"dropdown-item",to:{pathname:"/users/signup",state:{desc:"sign up"}},children:"Sign Up"})]})]})}),u.get("authedUser")&&Object(o.jsx)("li",{className:"image",children:Object(o.jsx)("img",{src:c,alt:"avatar"})}),Object(o.jsx)("li",{className:"nav-item signin",children:Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(a.c,{className:"nav-link btn btn-primary text-white",activeClassName:"active",to:{pathname:"/users/login",state:{desc:"sign in"}},children:"Login"})})}),Object(o.jsx)("li",{className:"nav-item signout",children:Object(o.jsx)(a.c,{className:"nav-link btn btn-danger text-white",to:{pathname:"/users/logout",state:{desc:"sign out",message:"Thank you for your time. Bye!"}},onClick:function(e){if(!u.get("authedUser"))return Object(o.jsx)(r.a,{to:"/users/login"});u.remove("authedUser",{path:"/"})}.bind(this),children:"Logout"})})]}),Object(o.jsx)("div",{})]})})]})})}))},49:function(e,t,n){},51:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,c=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(o){a=!0,c=o}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return a}))},80:function(e,t,n){(function(e,r){var a;!function(c){var s=t,i=(e&&e.exports,"object"==typeof r&&r);i.global!==i&&i.window;var o=function(e){this.message=e};(o.prototype=new Error).name="InvalidCharacterError";var u=function(e){throw new o(e)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=/[\t\n\f\r ]/g,h={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,r,a,c=e.length%3,s="",i=-1,o=e.length-c;++i<o;)t=e.charCodeAt(i)<<16,n=e.charCodeAt(++i)<<8,r=e.charCodeAt(++i),s+=l.charAt((a=t+n+r)>>18&63)+l.charAt(a>>12&63)+l.charAt(a>>6&63)+l.charAt(63&a);return 2==c?(t=e.charCodeAt(i)<<8,n=e.charCodeAt(++i),s+=l.charAt((a=t+n)>>10)+l.charAt(a>>4&63)+l.charAt(a<<2&63)+"="):1==c&&(a=e.charCodeAt(i),s+=l.charAt(a>>2)+l.charAt(a<<4&63)+"=="),s},decode:function(e){var t=(e=String(e).replace(d,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&u("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,a=0,c="",s=-1;++s<t;)r=l.indexOf(e.charAt(s)),n=a%4?64*n+r:r,a++%4&&(c+=String.fromCharCode(255&n>>(-2*a&6)));return c},version:"1.0.0"};void 0===(a=function(){return h}.call(t,n,t,e))||(e.exports=a)}()}).call(this,n(81)(e),n(21))},81:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},85:function(e,t,n){"use strict";n.r(t);var r=n(51),a=n(0),c=n(19),s=n(2),i=(n(49),n(80)),o=n(42),u=n(20),l=n(44),d=n(45),h=n(3),b=void 0,p=new o.a;t.default=Object(u.b)((function(e){return{users:e.users,authedUser:e.authedUser}}),(function(e){return{dispatch_fetchUsers:function(){return e(Object(l.b)())},dispatch_authedUser:function(t){return e(Object(l.a)(t))}}}))(Object(s.g)((function(e){var t=Object(a.useState)("Guest"),n=Object(r.a)(t,2),s=n[0],o=n[1],u=Object(a.useState)(""),f=Object(r.a)(u,2),j=f[0],m=f[1],g=Object(a.useState)(!1),v=Object(r.a)(g,2),O=v[0],x=v[1];Object(a.useEffect)((function(){e.dispatch_fetchUsers()}),[]),Object(a.useEffect)((function(){p.get("authedUser")?e.dispatch_authedUser(p.get("authedUser")):e.dispatch_authedUser(s)}),[]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(d.a,{}),Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"d-flex justify-content-center h-100",children:Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("div",{className:"card-header",children:Object(h.jsx)("h3",{children:e.location.state.desc})}),Object(h.jsx)("div",{className:"card-body",children:Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=Object(i.encode)(s+":"+j);Object(l.c)(n).then((function(t){if(200===parseInt(t.status)){if(!p.get("authedUser")){var n=new Date;n.setTime(n.getTime()+36e5),p.set("authedUser",t.name,{path:"/",expires:n})}e.dispatch_authedUser(t.name),alert(t.message),e.history.push("/")}else 401===parseInt(t.status)&&alert(t.message)})).catch((function(e){console.log(e)}))}.bind(b),children:[Object(h.jsx)("div",{className:"input-group form-group",children:Object(h.jsx)("input",{onChange:function(e){o(e.target.value)}.bind(b),type:"text",className:"form-control",placeholder:"username"})}),Object(h.jsx)("div",{className:"input-group form-group",children:Object(h.jsx)("input",{onChange:function(e){m(e.target.value)}.bind(b),type:"password",className:"form-control",placeholder:"password"})}),Object(h.jsxs)("div",{className:"row align-items-center remember",children:[Object(h.jsx)("input",{onChange:function(e){x(e.target.checked),O&&console.log("remember")},type:"checkbox"}),"Remember Me"]}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"submit",value:"Login",className:"btn float-right login_btn"})})]})}),Object(h.jsx)("div",{className:"card-footer",children:Object(h.jsxs)("div",{className:"d-flex justify-content-center links",children:["Don't have an account?",Object(h.jsx)(c.b,{to:{pathname:"/users/signup",state:{desc:"sign up"}},children:"Sign Up"})]})})]})})})]})})))}}]);
//# sourceMappingURL=4.47fe37af.chunk.js.map