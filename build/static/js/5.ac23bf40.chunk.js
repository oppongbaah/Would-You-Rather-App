(this.webpackJsonptwitter=this.webpackJsonptwitter||[]).push([[5],{44:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return f}));var a=n(46),r=n.n(a),s=n(47),c=n(13);var i=n(42),o=n(48),u=n.n(o),l=new i.a,d="http://localhost:4000";function p(){return function(e){u.a.get("".concat(d,"/users/fetch-all")).then((function(t){e(function(e){return{type:c.a,users:e}}(t.data))})).catch((function(e){console.log(e)}))}}function h(e){return function(t){t(function(e){return{type:c.b,authedUser:e}}(e))}}function j(e){return b.apply(this,arguments)}function b(){return(b=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(d,"/users/login/"),{method:"POST",headers:{"Access-Control-Allow-Origin":d,"Content-Type":"application/json",Authorization:"Basic ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function f(e,t){return m.apply(this,arguments)}function m(){return(m=Object(s.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(d,"/users/signup"),{method:"POST",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.text().then((function(e){alert(e),l.set("authedUser",t._id),n.push("/")}))})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},45:function(e,t,n){"use strict";n(0);var a=n(2),r=n(19),s=n(20),c=(n(29),n(42)),i=n(50),o=n(3),u=new c.a;t.a=Object(s.b)((function(e){return{authedUser:e.authedUser,users:e.users}}))((function(e){var t,n=(t=e.authedUser,e.users.filter((function(e){return e._id===t&&e.imageURL})).map((function(e){return e.imageURL}))),s=n.length?"usersAvatar/".concat(n):"usersAvatar/avatar.png";return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"container-nav",children:[Object(o.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(o.jsx)("span",{className:"navbar-toggler-icon"})}),Object(o.jsx)("nav",{id:"navbarSupportedContent",className:"navbar navbar-expand-lg navbar-light bg-warning",children:Object(o.jsxs)("div",{className:"collapse navbar-collapse",children:[Object(o.jsxs)("ul",{className:"navbar-nav ml-auto topnav",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(r.c,{className:"nav-link",activeClassName:"active",exact:!0,to:"/",children:"Dashboard"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(r.c,{className:"nav-link",activeClassName:"active",to:"/new-poll",children:"New Poll"})}),Object(o.jsx)("li",{className:"dropd",children:Object(o.jsxs)("div",{className:"nav-item dropdown",children:[Object(o.jsxs)("p",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[e.authedUser,Object(o.jsx)(i.a,{})]}),Object(o.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(o.jsx)("div",{className:"dropdown-divider"}),Object(o.jsx)(r.b,{className:"dropdown-item",to:{pathname:"/users/signup",state:{desc:"sign up"}},children:"Sign Up"})]})]})}),u.get("authedUser")&&Object(o.jsx)("li",{className:"image",children:Object(o.jsx)("img",{src:s,alt:"avatar"})}),Object(o.jsx)("li",{className:"nav-item signin",children:Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(r.c,{className:"nav-link btn btn-primary text-white",activeClassName:"active",to:{pathname:"/users/login",state:{desc:"sign in"}},children:"Login"})})}),Object(o.jsx)("li",{className:"nav-item signout",children:Object(o.jsx)(r.c,{className:"nav-link btn btn-danger text-white",to:{pathname:"/users/logout",state:{desc:"sign out",message:"Thank you for your time. Bye!"}},onClick:function(e){if(!u.get("authedUser"))return Object(o.jsx)(a.a,{to:"/users/login"});u.remove("authedUser",{path:"/"})}.bind(this),children:"Logout"})})]}),Object(o.jsx)("div",{})]})})]})})}))},49:function(e,t,n){},51:function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,s=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(o){r=!0,s=o}finally{try{a||null==i.return||i.return()}finally{if(r)throw s}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return r}))},87:function(e,t,n){"use strict";n.r(t);var a=n(51),r=n(0),s=n(19),c=n(2),i=n(20),o=n(44),u=n(45),l=(n(49),n(29),n(42)),d=n(3),p=void 0,h=new l.a;t.default=Object(i.b)((function(e){return{users:e.users,authedUser:e.authedUser}}),(function(e){return{dispatch_fetchUsers:function(){return e(Object(o.b)())},dispatch_authedUser:function(t){return e(Object(o.a)(t))}}}))(Object(c.g)((function(e){var t=Object(r.useState)(""),n=Object(a.a)(t,2),c=n[0],i=n[1],l=Object(r.useState)(""),j=Object(a.a)(l,2),b=j[0],f=j[1],m=Object(r.useState)(""),v=Object(a.a)(m,2),g=v[0],O=v[1],x=Object(r.useState)(""),y=Object(a.a)(x,2),N=y[0],w=y[1],U=Object(r.useState)(""),S=Object(a.a)(U,2),C=S[0],A=S[1];Object(r.useEffect)((function(){e.dispatch_fetchUsers()}),[]),Object(r.useEffect)((function(){h.get("authedUser")&&e.dispatch_authedUser(h.get("authedUser"))}),[]);var k=function(){return c.split(" ").length>1||b.split(" ").length>1?{id:"Name fields must not have any special character",validated:!1}:{id:c.toLowerCase().concat(b.toLowerCase()),validated:!0}},L=function(){return c.concat(" ",b)},T=function(){return C?C[0].name:""},_=function(){return g===N?{password:g,match:!0}:{password:"Password and comfirm password do not match",match:!1}};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u.a,{}),Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"d-flex justify-content-center h-100",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{children:e.location.state?e.location.state.desc:"sign up"})}),Object(d.jsx)("div",{className:"card-body",children:Object(d.jsxs)("form",{encType:"multipart-form-data",onSubmit:function(t){t.preventDefault(),""===c||""===b||""===g||""===N?(alert("All the fields are required"),t.preventDefault()):_().match&&k().validated?Object(o.d)({_id:k().id,username:L(),imageURL:T(),password:_().password},e.history):_().match?k().validated||alert(k().id):alert(_().password)}.bind(p),children:[Object(d.jsx)("div",{className:"sign-up-image input-group form-group",children:Object(d.jsx)("img",{src:"usersAvatar/avatar.png",alt:"avatar"})}),Object(d.jsx)("div",{className:"update",children:Object(d.jsx)("input",{type:"file",name:"myImage",onChange:function(e){A(e.target.files)}.bind(p)})}),Object(d.jsxs)("div",{className:"input-group form-group",children:[Object(d.jsx)("input",{type:"text",onChange:function(e){i(e.target.value)}.bind(p),className:"input-control",placeholder:"firstname"}),Object(d.jsx)("input",{type:"text",onChange:function(e){f(e.target.value)}.bind(p),className:"input-control",placeholder:"lastname"})]}),Object(d.jsxs)("div",{className:"input-group form-group",children:[Object(d.jsx)("input",{type:"password",className:"input-control",placeholder:"password",onChange:function(e){O(e.target.value)}.bind(p)}),Object(d.jsx)("input",{type:"password",className:"input-control",placeholder:"comfirm password",onChange:function(e){w(e.target.value)}.bind(p)})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{type:"submit",value:"Sign Up",className:"btn float-right login_btn"})})]})}),Object(d.jsx)("div",{className:"card-footer",children:Object(d.jsxs)("div",{className:"d-flex justify-content-center links",children:["Already have an account?",Object(d.jsx)(s.b,{to:{pathname:"/users/login",state:{desc:"sign in"}},children:"Log in"})]})})]})})})]})})))}}]);
//# sourceMappingURL=5.ac23bf40.chunk.js.map